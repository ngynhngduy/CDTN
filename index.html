<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Shop c·ªßa Duy</title>
    <style>
        /* CSS c∆° b·∫£n */
        body { font-family: Arial, sans-serif; margin: 20px; background-color: #f4f4f4; }
        h1 { color: #333; text-align: center; }
        .product-list { display: flex; flex-wrap: wrap; gap: 20px; justify-content: center; }
        .product-card { 
            background: #fff; 
            padding: 15px; 
            border: 1px solid #ddd; 
            border-radius: 8px; 
            width: 300px; 
            box-shadow: 0 2px 4px rgba(0,0,0,0.1); 
        }
        .product-card h2 { font-size: 1.2em; color: #007bff; margin-top: 0; }
        .product-card p { margin: 5px 0; }
        .price { font-weight: bold; color: #dc3545; font-size: 1.1em; }
    </style>
</head>
<body>

    <h1>üõçÔ∏è Danh S√°ch S·∫£n Ph·∫©m</h1>
    <div id="products-container" class="product-list">
        </div>

    <script>
        // ƒê·ªãa ch·ªâ API c·ªßa Backend (ƒë·∫£m b·∫£o Backend ƒëang ch·∫°y)
        const API_URL = 'http://localhost:3000/api/products';
        const productsContainer = document.getElementById('products-container');

        // H√†m g·ªçi API v√† hi·ªÉn th·ªã s·∫£n ph·∫©m
        async function fetchProducts() {
            try {
                // 1. G·ªçi ƒë·∫øn API backend
                const response = await fetch(API_URL);
                if (!response.ok) {
                    throw new Error('L·ªói khi t·∫£i d·ªØ li·ªáu s·∫£n ph·∫©m');
                }
                
                const products = await response.json();
                
                // 2. Hi·ªÉn th·ªã d·ªØ li·ªáu l√™n giao di·ªán
                products.forEach(product => {
                    const card = document.createElement('div');
                    card.className = 'product-card';
                    
                    card.innerHTML = `
                        <h2>${product.name}</h2>
                        <p>${product.description}</p>
                        <p class="price">${product.price.toLocaleString('vi-VN')} VNƒê</p>
                        <button onclick="addToCart(${product.id}, '${product.name}')">Th√™m v√†o gi·ªè</button>
                    `;
                    
                    productsContainer.appendChild(card);
                });

            } catch (error) {
                console.error('L·ªói Fetch:', error);
                productsContainer.innerHTML = `<p style="color: red;">Kh√¥ng th·ªÉ k·∫øt n·ªëi ƒë·∫øn m√°y ch·ªß: ${error.message}. Vui l√≤ng ki·ªÉm tra Server Backend.</p>`;
            }
        }

        // H√†m ƒë∆°n gi·∫£n m√¥ ph·ªèng th√™m v√†o gi·ªè h√†ng
        function addToCart(id, name) {
            alert(`ƒê√£ th√™m s·∫£n ph·∫©m ID ${id}: "${name}" v√†o gi·ªè h√†ng.`);
            // Trong th·ª±c t·∫ø, b·∫°n s·∫Ω l∆∞u v√†o localStorage ho·∫∑c g·ª≠i l√™n server
        }

        // Ch·∫°y h√†m khi trang t·∫£i xong
        fetchProducts();
    </script>

</body>
</html>
